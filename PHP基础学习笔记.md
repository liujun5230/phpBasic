## PHP基础知识补漏笔记

### 1、PHP变量，及其与JavaScript变量的不同

PHP的全局变量，与JavaScript的全局变量不同。

**JavaScript变量**

JavaScript变量的作用域范围是局部还是全局，由变量定义的位置决定。通常，函数中定义的变量，是局部变量，函数外定义的变量就是全局变量。

此外，JavaScript变量有“变量提升机制”，不论变量在使用之前还是之后定义，都不会报变量未定义错误。

**PHP变量**

PHP变量的作用域范围是不是全局，不但由变量定义的位置决定，还由这个变量前面有没有global关键字决定。

在函数外声明的变量当然是全局变量，但在函数中使用的时候，需要先使用global关键字声明，这样才能引用到全局变量，否则会被认为是要引用函数内的同名局部变量，如果函数里没有定义这个同名局部变量，就会报“变量未定义”错误。

在函数内定义的变量，只要变量前面有global关键字，就是全局变量，就可以在全局和其他函数中，使用global关键字声明以后，作为全局变量引用。
否则就是局部变量。

于此同时，PHP变量没有变量提升机制，变量在使用之前，必须先声明，否则会报“变量未定义”错误。

在函数执行完以后，还能使用和保持数据的需求怎么满足呢？PHP的解决办法是：提供静态变量。

静态变量分为“静态局部变量”  和 “静态全局变量”。

**静态全局变量**
全局变量(外部变量)的声明之前再冠以static 就构成了静态的全局变量。
全局变量本身就是静态存储方式，静态全局变量当然也是静态存储方式。
这两者在存储方式上并无不同。
这两者的区别虽在于：
1、非静态全局变量的作用域是整个源程序，当一个源程序由多个源文件组成时，非静态的全局变量在各个源文件中都是有效的。
2、静态全局变量则限制了其作用域， 即只在定义该变量的源文件内有效，在同一源程序的其它源文件中不能使用它。
从以上分析可以看出————
把局部变量改变为静态变量后是改变了它的存储方式，即改变了它的生存期。
把全局变量改变为静态变量后是改变了它的作用域，限制了它的使用范围。static静态变量会被放在程序的全局存储区中（即在程序的全局数据区，而不是在堆栈中分配，所以不会导致堆栈溢出），这样可以在下一次调用的时候还可以保持原来的赋值。这一点是它与堆栈变量和堆变量的区别。


详细说明见下面这篇文章：
[PHP静态变量](https://www.cnblogs.com/52php/p/5658171.html "PHP静态变量")



